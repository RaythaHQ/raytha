<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Custom Raytha liquid functions and filters </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Custom Raytha liquid functions and filters ">
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../styles/docfx.min.css">
      <link rel="stylesheet" href="../styles/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      
      <meta name="docfx:docurl" content="https://github.com/RaythaHQ/raytha/blob/main/docfx_project/articles/templates_custom_funcs.md/#L1">

      <script type="text/javascript" src="../styles/docfx.min.js"></script>
      <script type="text/javascript" src="../styles/main.js"></script>
  </head>

  <body data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navbar">
            <form class="d-flex ms-auto" role="search" id="search">
              <i class="bi bi-search"></i>
              <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
            </form>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="custom-raytha-liquid-functions-and-filters">Custom Raytha liquid functions and filters</h1>

<p>The Raytha team has created some custom liquid functions and filters as quality of life enhancements to improve your experience building on top of Raytha. You can also create your own if you are comfortable doing so.</p>
<h2 id="functions">Functions</h2>
<p>Note that every time you call one of these functions, you are making a call to the database, so having many of these run on your template at once may result in performance issues.</p>
<h3 id="get_content_item_by_idcontentitemid">get_content_item_by_id(contentItemId)</h3>
<p>You can use this function to make a call to the database to get the details for a single content item by its id.</p>
<p>Usage:</p>
<pre><code>{% assign other_related_item = get_content_item_by_id(Target.PublishedContent.related_item.PublishedContent.another_related_item)}

{{ other_related_item.PrimaryField }}
</code></pre>
<h3 id="get_content_itemscontenttype-developer_name-filter-odata-orderby-odata-pagenumber-int-pagesize-int">get_content_items(ContentType: developer_name, Filter: odata, OrderBy: odata, PageNumber: int, PageSize: int)</h3>
<p>This function will acquire the items for the given <code>ContentType</code> (required). The other parameters are optional.</p>
<pre><code>{% assign over_five_yrs = get_content_items(ContentType: &quot;posts&quot;, Filter: &quot;age &gt; 5&quot;, OrderBy: &quot;PrimaryField asc&quot;, PageNumber: 1, PageSize: 10)}

{% for item in over_five_yrs.Items %}
    {{ item.PrimaryField }}
{% endfor %}
</code></pre>
<h2 id="filters">Filters</h2>
<h3 id="raytha_attachment_url">raytha_attachment_url</h3>
<p>This filter will take the value and output the rendered url that redirects to the attachment's URL.</p>
<p>Usage:</p>
<pre><code>{{ Target.PublishedContent.attachment.Value | raytha_attachment_url }}
</code></pre>
<h3 id="organization_time">organization_time</h3>
<p>This filter will take the value and convert it to the timezone that is set in the system's organization settings. This is useful when using variables <code>CreationTime</code> and <code>LastModificationTime</code>.</p>
<p>Usage:</p>
<pre><code>{{{ item.CreationTime | organization_time | date: '%c' }}
</code></pre>
<blockquote>
<p>Note: The above example also uses the <code>date</code> filter which comes with the Fluid parser engine. <a href="https://ruby-doc.org/core-3.0.0/Time.html#method-i-strftime">You can use strftime for formatting</a>.</p>
</blockquote>
<h3 id="groupby-publishedcontentdeveloper_name">groupby: &quot;PublishedContent.developer_name&quot;</h3>
<p>This will perform a groupby operation on an array of items, most commonly used with <code>Target.Items</code> and key on the PublishedContent.developer_name attribute. The output will be a dictionary of <code>key</code> and <code>items</code> as demonstrated below.</p>
<p>Usage:</p>
<pre><code>{% assign grouped_items = Target.Items | groupby: &quot;PublishedContent.developer_name&quot; %}
{% for grouped_item in grouped_items %}
    {{ grouped_item.key }}
    {% for item in grouped_item.items %}
        {{ item.PublishedContent.developer_name.Value }}
    {% endfor %}
{% endfor %}
</code></pre>
<h3 id="json">json</h3>
<p>If you want to &quot;stringify&quot; any of the objects that come out of the rendering engine, you can apply the <code>json</code> filter. This might be useful during development if you are looking to see what the attributes are on the objects so that you can pull them out.</p>
<p>Usage:</p>
<pre><code>{{ Target | json }}
</code></pre>
</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/RaythaHQ/raytha/blob/main/docfx_project/articles/templates_custom_funcs.md/#L1" class="edit-link">Edit this page</a>
        </div>
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>