{% comment %}
Card Widget - Single card with image, title, description, and CTA button.

Settings:
  - title: Card title
  - description: Card description/content (HTML)
  - imageUrl: Card image URL (optional)
  - imageAlt: Image alt text (optional)
  - buttonText: Button/link text (optional)
  - buttonUrl: Button/link URL (optional)
  - buttonStyle: Button style - primary, secondary, outline-primary, link (default: primary)
  - backgroundColor: Background color (optional)

Advanced Meta Fields (available on all widgets):
  - widget.css_class: Custom CSS classes
  - widget.html_id: Custom HTML ID attribute
  - widget.custom_attributes: Custom HTML attributes string
  - widget.row: Row position in section grid
  - widget.column: Column position in row
  - widget.column_span: Number of columns widget spans (1-12)
{% endcomment %}

{% assign button_style = widget.settings.buttonStyle | default: 'primary' %}

<div class="card-widget{% if widget.css_class %} {{ widget.css_class }}{% endif %}"
     {% if widget.html_id %}id="{{ widget.html_id }}"{% endif %}
     {{ widget.custom_attributes }}
     {% if widget.settings.backgroundColor %}style="background-color: {{ widget.settings.backgroundColor }};"{% endif %}>
  <div class="card h-100 border-0 shadow-sm">
    {% if widget.settings.imageUrl %}
    <img src="{{ widget.settings.imageUrl }}" 
         class="card-img-top" 
         alt="{{ widget.settings.imageAlt | default: widget.settings.title }}"
         style="height: 200px; object-fit: cover;">
    {% endif %}
    <div class="card-body d-flex flex-column">
      {% if widget.settings.title %}
      <h5 class="card-title fw-semibold">{{ widget.settings.title }}</h5>
      {% endif %}
      {% if widget.settings.description %}
      <div class="card-text text-secondary flex-grow-1 mb-3">{{ widget.settings.description }}</div>
      {% endif %}
      {% if widget.settings.buttonText and widget.settings.buttonUrl %}
      <div class="mt-auto">
        <a href="{{ widget.settings.buttonUrl }}" class="btn btn-{{ button_style }}">
          {{ widget.settings.buttonText }}
        </a>
      </div>
      {% endif %}
    </div>
  </div>
</div>
