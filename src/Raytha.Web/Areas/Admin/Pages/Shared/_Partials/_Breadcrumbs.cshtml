@using Raytha.Web.Areas.Shared.Models
@model IEnumerable<BreadcrumbNode>

@if (Model != null && Model.Any())
{
    <nav aria-label="breadcrumb" class="mb-3">
        <ol class="breadcrumb">
            @foreach (var breadcrumb in Model)
            {
                var cssClasses = "breadcrumb-item";
                if (breadcrumb.IsActive)
                {
                    cssClasses += " active";
                }

                <li class="@cssClasses" @(breadcrumb.IsActive ? Html.Raw("aria-current=\"page\"") : null)>
                    @if (!string.IsNullOrEmpty(breadcrumb.Icon))
                    {
                        @Html.Raw(breadcrumb.Icon)
                        <text> </text>
                    }

                    @if (!breadcrumb.IsActive && !string.IsNullOrEmpty(breadcrumb.RouteName))
                    {
                        if (breadcrumb.RouteValues != null && breadcrumb.RouteValues.Any())
                        {
                            <a asp-page="@breadcrumb.RouteName" asp-all-route-data="breadcrumb.RouteValues">
                                @breadcrumb.Label
                            </a>
                        }
                        else
                        {
                            <a asp-page="@breadcrumb.RouteName">@breadcrumb.Label</a>
                        }
                    }
                    else
                    {
                        @breadcrumb.Label
                    }
                </li>
            }
        </ol>
    </nav>
}

