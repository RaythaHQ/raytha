@page "/raytha/menus/edit/{id}"
@model Raytha.Web.Areas.Admin.Pages.NavigationMenus.Edit

@{
    var pageTitle = "Menus > Edit";
    Layout = "SubActionLayout";
    ViewData["Title"] = pageTitle;
    ViewData["ActiveMenu"] = "Menus";
    ViewData["ActiveSubMenu"] = "Edit";

    BackLinkOptions back = new BackLinkOptions
    {
        Page = RouteNames.NavigationMenus.Index
    };
}

@(await Html.PartialAsync("_Partials/BackToList", back))
<form asp-page="@RouteNames.NavigationMenus.Edit" asp-route-id="@Model.Form.Id" method="post" class="py-4" novalidate>
    <input type="hidden" asp-for="Form.Id">
    <div class="col-lg-12 col-md-12">
        <div class="mb-3">
            <label class="form-label raytha-required" asp-for="Form.Label"></label>
            <input type="text" class="form-control @Model.HasError("Label")" asp-for="Form.Label">
            <div class="invalid-feedback">@Model.ErrorMessageFor("Label")</div>
        </div>
    </div>
    <div class="col-lg-12 col-md-12">
        <div class="mb-3">
            <label class="form-label" asp-for="Form.DeveloperName"></label>
            <input type="text" class="form-control @Model.HasError("DeveloperName")" asp-for="Form.DeveloperName"
                readonly>
            <div class="invalid-feedback">@Model.ErrorMessageFor("DeveloperName")</div>
        </div>
    </div>
    <button type="submit" class="btn btn-success mx-2">Save</button>
</form>

<hr />
@if (!Model.Form.IsMainMenu)
{
    <form asp-page="@RouteNames.NavigationMenus.SetAsMainMenu" method="post" class="py-4" asp-route-id="@Model.Form.Id">
        <div class="col-lg-12">
            <button type="submit" class="btn btn-secondary mx-2">Set as main menu</button>
        </div>
    </form>
}
else
{
    <p>This menu is currently set as main.</p>
}